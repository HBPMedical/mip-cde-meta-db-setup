#!/usr/bin/env amm

import $ivy.`org.gnieh::diffson-circe:2.2.1`, gnieh.diffson.circe._
import $ivy.`com.lihaoyi::ammonite-ops:1.0.0`, ammonite.ops._

val variables = read! pwd/"variables.json"
val rawPatch = read! pwd/"clm-patch.json"
val patch = JsonPatch.parse(rawPatch)

val patchedVariables = patch(variables)

write(pwd/"variables-patched.json", patchedVariables.toString)
